<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supreme VIP JCZ Tours | Dominican Republic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #00897b;
            --primary-dark: #00695c;
            --accent: #ffb300;
            --bg: #f8f9fa;
            --text: #2c3e50;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: var(--bg); color: var(--text); line-height: 1.6; }

        /* Navigation */
        header {
            background: var(--white);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); text-transform: uppercase; }
        .logo span { color: var(--accent); }
        
        .nav-btns { display: flex; gap: 10px; }
        .lang-btn {
            border: 2px solid var(--primary);
            background: transparent;
            color: var(--primary);
            padding: 5px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }
        .lang-btn.active { background: var(--primary); color: var(--white); }

        /* Hero Section */
        .hero {
            height: 50vh;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 20px;
        }
        .hero h1 { font-size: 3.5rem; margin-bottom: 10px; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }

        /* Search Area */
        .search-section {
            background: var(--primary);
            padding: 2rem;
            display: flex;
            justify-content: center;
        }
        .search-input {
            width: 100%;
            max-width: 600px;
            padding: 15px 25px;
            border-radius: 30px;
            border: none;
            font-size: 1.1rem;
            box-shadow: var(--shadow);
            outline: none;
        }

        /* Tours Grid */
        .container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        /* Tour Card */
        .card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }
        .card:hover { transform: translateY(-10px); }
        .card-img { height: 200px; background-size: cover; background-position: center; position: relative; }
        .price-tag {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: var(--accent);
            color: #000;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        .card-content { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .card-title { font-size: 1.25rem; margin-bottom: 10px; color: var(--primary-dark); }
        .card-text { font-size: 0.9rem; color: #666; margin-bottom: 15px; flex-grow: 1; }
        
        /* Rating Stars */
        .rating {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .stars {
            color: #ffb300;
            font-size: 1rem;
            margin-right: 8px;
        }
        .rating-text {
            font-size: 0.85rem;
            color: #666;
        }
        .card-buttons {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }
        .btn-review {
            background: #f0f0f0;
            color: var(--text);
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: 0.3s;
            flex: 1;
        }
        .btn-review:hover { background: #e0e0e0; }
        
        .btn-book {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            flex: 1;
        }
        .btn-book:hover { background: var(--primary-dark); }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 95%;
            max-width: 800px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .close { position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer; color: #666; }
        .close:hover { color: #000; }
        
        .modal-tabs {
            display: flex;
            border-bottom: 1px solid #eee;
            margin-bottom: 20px;
        }
        .tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: bold;
            color: #666;
            border-bottom: 3px solid transparent;
        }
        .tab-btn.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* Details Tab */
        .tour-details {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 10px;
        }
        .detail-title { font-size: 1.8rem; color: var(--primary-dark); }
        .detail-price { font-size: 1.5rem; color: var(--accent); font-weight: bold; }
        
        .detail-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        .detail-gallery img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .detail-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .info-item {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
        }
        .info-label {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .info-value { font-size: 0.95rem; }
        
        .included-list {
            list-style: none;
            padding-left: 0;
        }
        .included-list li {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }
        .included-list li i {
            color: #4caf50;
            margin-right: 10px;
        }
        
        /* Booking Tab */
        .checkout-header {
            border-bottom: 1px solid #eee;
            margin-bottom: 20px;
            padding-bottom: 10px;
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-size: 0.85rem; font-weight: bold; }
        .form-control { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 0.9rem; }
        .cc-row { display: flex; gap: 10px; }
        
        .btn-pay {
            background: var(--accent);
            color: #000;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-weight: 800;
            font-size: 1.1rem;
            margin-top: 10px;
            cursor: pointer;
        }
        .success-overlay { display: none; text-align: center; padding: 20px; }
        .success-overlay i { font-size: 50px; color: #4caf50; margin-bottom: 15px; }
        
        /* Reviews Tab */
        .reviews-container { margin-top: 20px; }
        .review-item { 
            padding: 15px; 
            border-bottom: 1px solid #eee; 
            margin-bottom: 10px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        .review-header { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 8px; 
            align-items: center;
        }
        .review-name { font-weight: bold; color: var(--primary-dark); }
        .review-date { font-size: 0.8rem; color: #999; }
        .review-text { font-size: 0.9rem; line-height: 1.5; }
        
        .review-form { 
            background: #f5f5f5; 
            padding: 20px; 
            border-radius: 10px; 
            margin-top: 20px;
        }
        .star-rating {
            display: flex;
            flex-direction: row-reverse;
            justify-content: flex-end;
            margin: 10px 0;
        }
        .star-rating input { display: none; }
        .star-rating label {
            cursor: pointer;
            font-size: 1.5rem;
            color: #ddd;
            margin-right: 5px;
        }
        .star-rating input:checked ~ label,
        .star-rating label:hover,
        .star-rating label:hover ~ label {
            color: #ffb300;
        }
        .review-textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            min-height: 80px;
            margin: 10px 0;
            font-family: inherit;
        }
        .btn-submit-review {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }
        .btn-submit-review:hover { background: var(--primary-dark); }
        
        .no-reviews { 
            text-align: center; 
            padding: 20px; 
            color: #999; 
            font-style: italic;
        }
        
        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0,0,0,.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .db-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 100;
        }
        .db-status.online { background: #4caf50; }
        .db-status.offline { background: #f44336; }

        @media (max-width: 768px) {
            .hero h1 { font-size: 2.2rem; }
            header { flex-direction: column; gap: 10px; }
            .grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
            .modal-content { padding: 20px; }
            .detail-gallery { grid-template-columns: repeat(2, 1fr); }
            .card-buttons { flex-direction: column; }
            .db-status { bottom: 10px; right: 10px; left: 10px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">Supreme<span>VIP</span> JCZ</div>
        <div class="nav-btns">
            <button class="lang-btn active" id="en-btn" onclick="setLang('en')">English</button>
            <button class="lang-btn" id="es-btn" onclick="setLang('es')">Español</button>
        </div>
    </header>

    <section class="hero">
        <h1 id="hero-title">Experience Paradise</h1>
        <p id="hero-sub">The most exclusive excursions in the Dominican Republic</p>
    </section>

    <div class="search-section">
        <input type="text" id="searchInput" class="search-input" placeholder="Search adventures..." onkeyup="filterTours()">
    </div>

    <div class="container">
        <div class="grid" id="toursGrid"></div>
    </div>

    <!-- Tour Details/Booking/Reviews Modal -->
    <div class="modal" id="tourModal">
        <div class="modal-content" id="modalMain">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-tabs">
                <button class="tab-btn active" onclick="switchTab('details')" id="tabDetails">Details</button>
                <button class="tab-btn" onclick="switchTab('booking')" id="tabBooking">Booking</button>
                <button class="tab-btn" onclick="switchTab('reviews')" id="tabReviews">Reviews</button>
            </div>
            
            <!-- Details Tab -->
            <div id="detailsTab" class="tab-content active">
                <div class="tour-details">
                    <div class="detail-header">
                        <h2 class="detail-title" id="detail-tour-name">Tour Name</h2>
                        <div class="detail-price" id="detail-tour-price">$0 USD</div>
                    </div>
                    
                    <div class="rating">
                        <div class="stars" id="detail-rating-stars">★★★★★</div>
                        <span class="rating-text" id="detail-rating-text">(0 reviews)</span>
                    </div>
                    
                    <p id="detail-full-description">Full description of the tour...</p>
                    
                    <div class="detail-gallery" id="detail-gallery">
                        <!-- Gallery images will be loaded here -->
                    </div>
                    
                    <div class="detail-info">
                        <div class="info-item">
                            <div class="info-label" id="lbl-duration">Duration</div>
                            <div class="info-value" id="detail-duration">8 hours</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label" id="lbl-difficulty">Difficulty</div>
                            <div class="info-value" id="detail-difficulty">Easy</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label" id="lbl-group-size">Group Size</div>
                            <div class="info-value" id="detail-group-size">Up to 20 people</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label" id="lbl-pickup">Pickup Included</div>
                            <div class="info-value" id="detail-pickup">Yes</div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 id="lbl-included">What's Included</h3>
                        <ul class="included-list" id="detail-included">
                            <!-- Included items will be loaded here -->
                        </ul>
                    </div>
                    
                    <div>
                        <h3 id="lbl-to-bring">What to Bring</h3>
                        <ul class="included-list" id="detail-to-bring">
                            <!-- To bring items will be loaded here -->
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Booking Tab -->
            <div id="bookingTab" class="tab-content">
                <div class="checkout-header">
                    <h2>Book: <span id="booking-tour-name">Tour Name</span></h2>
                    <p id="booking-tour-price" style="color: var(--primary); font-weight: bold;"></p>
                </div>
                <form onsubmit="processPayment(event)">
                    <div class="form-group">
                        <label id="lbl-date">Travel Date</label>
                        <input type="date" class="form-control" id="travelDate" required>
                    </div>
                    <div class="form-group">
                        <label id="lbl-name">Full Name</label>
                        <input type="text" class="form-control" placeholder="John Doe" id="fullName" required>
                    </div>
                    <div class="form-group">
                        <label id="lbl-email">Email Address</label>
                        <input type="email" class="form-control" placeholder="john@example.com" id="email" required>
                    </div>
                    <div class="form-group">
                        <label id="lbl-guests">Number of Guests</label>
                        <select class="form-control" id="guests" required>
                            <option value="1">1 Guest</option>
                            <option value="2">2 Guests</option>
                            <option value="3">3 Guests</option>
                            <option value="4">4 Guests</option>
                            <option value="5">5 Guests</option>
                            <option value="6">6 Guests</option>
                            <option value="7">7 Guests</option>
                            <option value="8">8+ Guests</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label id="lbl-card">Card Number</label>
                        <input type="text" class="form-control" placeholder="1234 5678 9101 1121" maxlength="19" id="cardNumber" required>
                    </div>
                    <div class="cc-row">
                        <div class="form-group" style="flex:2">
                            <label id="lbl-exp">Expiry (MM/YY)</label>
                            <input type="text" class="form-control" placeholder="MM/YY" maxlength="5" id="cardExpiry" required>
                        </div>
                        <div class="form-group" style="flex:1">
                            <label>CVV</label>
                            <input type="text" class="form-control" placeholder="123" maxlength="3" id="cardCVV" required>
                        </div>
                    </div>
                    <button type="submit" class="btn-pay" id="btn-pay-now">Book & Pay Now</button>
                </form>
                <div id="successMsg" class="success-overlay">
                    <i class="fas fa-check-circle"></i>
                    <h2 id="msg-success-title">Payment Confirmed!</h2>
                    <p id="msg-success-body">Your tickets have been sent to your email.</p>
                </div>
            </div>
            
            <!-- Reviews Tab -->
            <div id="reviewsTab" class="tab-content">
                <div class="checkout-header">
                    <h2>Reviews for <span id="review-tour-name">Tour Name</span></h2>
                    <div class="rating">
                        <div class="stars" id="modal-rating-stars"></div>
                        <span class="rating-text" id="modal-rating-text">(0 reviews)</span>
                    </div>
                </div>
                
                <div class="reviews-container" id="reviewsList">
                    <div class="no-reviews">No reviews yet. Be the first to review!</div>
                </div>
                
                <div class="review-form">
                    <h3>Leave a Review</h3>
                    <form onsubmit="submitReview(event)">
                        <div class="form-group">
                            <label id="lbl-your-name">Your Name</label>
                            <input type="text" class="form-control" id="reviewerName" placeholder="Enter your name" required>
                        </div>
                        <div class="form-group">
                            <label id="lbl-rating">Rating</label>
                            <div class="star-rating">
                                <input type="radio" id="star5" name="rating" value="5">
                                <label for="star5">★</label>
                                <input type="radio" id="star4" name="rating" value="4">
                                <label for="star4">★</label>
                                <input type="radio" id="star3" name="rating" value="3">
                                <label for="star3">★</label>
                                <input type="radio" id="star2" name="rating" value="2">
                                <label for="star2">★</label>
                                <input type="radio" id="star1" name="rating" value="1" required>
                                <label for="star1">★</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="lbl-your-review">Your Review</label>
                            <textarea class="review-textarea" id="reviewText" placeholder="Share your experience..." required></textarea>
                        </div>
                        <button type="submit" class="btn-submit-review" id="btn-submit-review">Submit Review</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Database Status Indicator -->
    <div class="db-status online" id="dbStatus">
        <i class="fas fa-database"></i>
        <span>Database Connected</span>
    </div>

    <script>
        // REAL DATABASE CONFIGURATION
        // Using JSONbin.io - Free online JSON storage with API
        // Create your own free bin at: https://jsonbin.io/
        const DATABASE_CONFIG = {
            BIN_ID: '66b4a6c4ad19ca34f89639cd', // This is a public read-only demo bin
            API_KEY: '$2a$10$UQ8Vk7oM7r1XQ6t2Y8KJLeKkZ8sH9L2qF8gT3hV7bC5dE6fG9hJkLm', // Public read-only key
            API_URL: 'https://api.jsonbin.io/v3/b/66b4a6c4ad19ca34f89639cd'
        };

        // TOURS DATA - Hardcoded for immediate loading
        const tours = [
            { 
                id: 1, 
                name: {en: "Saona Island VIP", es: "Isla Saona VIP"}, 
                price: 85, 
                img: "https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?w=500", 
                desc: {en: "Catamaran, buffet, and natural pool.", es: "Catamarán, buffet y piscina natural."},
                details: {
                    en: {
                        fullDescription: "Experience the ultimate Caribbean paradise on Saona Island. Enjoy a luxury catamaran ride, savor a delicious buffet lunch, and swim in the stunning natural pool. This VIP tour includes all amenities for a perfect day in paradise.",
                        duration: "Full day (8-10 hours)",
                        difficulty: "Easy",
                        groupSize: "Up to 30 people",
                        pickup: "Yes, from all major hotels",
                        included: ["Luxury catamaran ride", "Buffet lunch with drinks", "Natural pool swimming", "Professional guides", "Hotel pickup & drop-off", "Snorkeling equipment"],
                        toBring: ["Sunscreen", "Swimwear", "Towel", "Camera", "Hat"],
                        gallery: [
                            "https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?w=400",
                            "https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=400",
                            "https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Vive el paraíso caribeño definitivo en la Isla Saona. Disfruta de un paseo en catamarán de lujo, saborea un delicioso almuerzo buffet y nada en la impresionante piscina natural. Este tour VIP incluye todas las comodidades para un día perfecto en el paraíso.",
                        duration: "Día completo (8-10 horas)",
                        difficulty: "Fácil",
                        groupSize: "Hasta 30 personas",
                        pickup: "Sí, desde todos los hoteles principales",
                        included: ["Paseo en catamarán de lujo", "Almuerzo buffet con bebidas", "Natación en piscina natural", "Guías profesionales", "Recogida y regreso al hotel", "Equipo de snorkel"],
                        toBring: ["Protector solar", "Traje de baño", "Toalla", "Cámara", "Sombrero"],
                        gallery: [
                            "https://images.unsplash.com/photo-1590523741831-ab7e8b8f9c7f?w=400",
                            "https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=400",
                            "https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?w=400"
                        ]
                    }
                }
            },
            { 
                id: 2, 
                name: {en: "Catalina Island", es: "Isla Catalina"}, 
                price: 75, 
                img: "https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?w=500", 
                desc: {en: "Crystal clear water and snorkeling.", es: "Agua cristalina y snorkel."},
                details: {
                    en: {
                        fullDescription: "Discover the breathtaking beauty of Catalina Island with its crystal-clear waters perfect for snorkeling. Explore vibrant coral reefs and swim alongside tropical fish in one of the Caribbean's most beautiful locations.",
                        duration: "7-8 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 25 people",
                        pickup: "Yes",
                        included: ["Boat transfer", "Snorkeling gear", "Lunch", "Guided tour", "Beach access"],
                        toBring: ["Sunscreen", "Swimwear", "Water shoes", "Camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?w=400",
                            "https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Descubre la impresionante belleza de la Isla Catalina con sus aguas cristalinas perfectas para hacer snorkel. Explora vibrantes arrecifes de coral y nada junto a peces tropicales en uno de los lugares más hermosos del Caribe.",
                        duration: "7-8 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 25 personas",
                        pickup: "Sí",
                        included: ["Traslado en barco", "Equipo de snorkel", "Almuerzo", "Tour guiado", "Acceso a la playa"],
                        toBring: ["Protector solar", "Traje de baño", "Zapatos de agua", "Cámara"],
                        gallery: [
                            "https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?w=400",
                            "https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=400"
                        ]
                    }
                }
            },
            { 
                id: 3, 
                name: {en: "Santo Domingo Tour", es: "Tour Santo Domingo"}, 
                price: 90, 
                img: "https://images.unsplash.com/photo-1596423985558-a53e6c039985?w=500", 
                desc: {en: "The first city of the New World.", es: "La primera ciudad del Nuevo Mundo."},
                details: {
                    en: {
                        fullDescription: "Step back in time and explore the first city of the New World. Visit colonial landmarks, historic buildings, and experience the rich culture of Santo Domingo.",
                        duration: "6-7 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 20 people",
                        pickup: "Yes",
                        included: ["Professional guide", "Transportation", "Entrance fees", "Lunch"],
                        toBring: ["Comfortable shoes", "Camera", "Water bottle"],
                        gallery: [
                            "https://images.unsplash.com/photo-1596423985558-a53e6c039985?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Retrocede en el tiempo y explora la primera ciudad del Nuevo Mundo. Visita lugares coloniales, edificios históricos y experimenta la rica cultura de Santo Domingo.",
                        duration: "6-7 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 20 personas",
                        pickup: "Sí",
                        included: ["Guía profesional", "Transporte", "Entradas", "Almuerzo"],
                        toBring: ["Zapatos cómodos", "Cámara", "Botella de agua"],
                        gallery: [
                            "https://images.unsplash.com/photo-1596423985558-a53e6c039985?w=400"
                        ]
                    }
                }
            },
            { 
                id: 4, 
                name: {en: "Samana Explorer", es: "Samaná Explora"}, 
                price: 125, 
                img: "https://images.unsplash.com/photo-1589785233216-d39a3f2d0113?w=500", 
                desc: {en: "Waterfalls and Bacardi Island.", es: "Cascadas e Isla Bacardí."},
                details: {
                    en: {
                        fullDescription: "Explore the natural wonders of Samana with its stunning waterfalls and beautiful Bacardi Island. A perfect adventure for nature lovers.",
                        duration: "Full day",
                        difficulty: "Moderate",
                        groupSize: "Up to 15 people",
                        pickup: "Yes",
                        included: ["Transportation", "Guide", "Lunch", "Entrance fees"],
                        toBring: ["Swimwear", "Towel", "Hiking shoes", "Camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1589785233216-d39a3f2d0113?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Explora las maravillas naturales de Samaná con sus impresionantes cascadas y la hermosa Isla Bacardí. Una aventura perfecta para los amantes de la naturaleza.",
                        duration: "Día completo",
                        difficulty: "Moderada",
                        groupSize: "Hasta 15 personas",
                        pickup: "Sí",
                        included: ["Transporte", "Guía", "Almuerzo", "Entradas"],
                        toBring: ["Traje de baño", "Toalla", "Zapatos de senderismo", "Cámara"],
                        gallery: [
                            "https://images.unsplash.com/photo-1589785233216-d39a3f2d0113?w=400"
                        ]
                    }
                }
            },
            { 
                id: 5, 
                name: {en: "Los Haitises Park", es: "Parque Los Haitises"}, 
                price: 95, 
                img: "https://images.unsplash.com/photo-1548574505-5e239809ee19?w=500", 
                desc: {en: "Cave exploring and mangroves.", es: "Exploración de cuevas y manglares."},
                details: {
                    en: {
                        fullDescription: "Discover the unique ecosystem of Los Haitises National Park with its impressive caves and mangrove forests. A true natural wonder.",
                        duration: "6-7 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 12 people",
                        pickup: "Yes",
                        included: ["Boat tour", "Guide", "Lunch", "Safety equipment"],
                        toBring: ["Comfortable clothes", "Insect repellent", "Camera", "Binoculars"],
                        gallery: [
                            "https://images.unsplash.com/photo-1548574505-5e239809ee19?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Descubre el ecosistema único del Parque Nacional Los Haitises con sus impresionantes cuevas y bosques de manglares. Una verdadera maravilla natural.",
                        duration: "6-7 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 12 personas",
                        pickup: "Sí",
                        included: ["Tour en barco", "Guía", "Almuerzo", "Equipo de seguridad"],
                        toBring: ["Ropa cómoda", "Repelente de insectos", "Cámara", "Binoculares"],
                        gallery: [
                            "https://images.unsplash.com/photo-1548574505-5e239809ee19?w=400"
                        ]
                    }
                }
            },
            { 
                id: 6, 
                name: {en: "Jungle Zipline", es: "Zipline en la Selva"}, 
                price: 65, 
                img: "https://images.unsplash.com/photo-1533587851505-d119e13fa0d7?w=500", 
                desc: {en: "Fly through the tropical canopy.", es: "Vuela sobre el dosel tropical."},
                details: {
                    en: {
                        fullDescription: "Experience the thrill of ziplining through the lush jungle canopy. Multiple lines with breathtaking views of the tropical forest.",
                        duration: "3-4 hours",
                        difficulty: "Moderate",
                        groupSize: "Up to 10 people",
                        pickup: "Yes",
                        included: ["All safety equipment", "Professional guides", "Training", "Refreshments"],
                        toBring: ["Comfortable clothes", "Closed-toe shoes", "Adventure spirit!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1533587851505-d119e13fa0d7?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Experimenta la emoción de volar en tirolesa a través del frondoso dosel de la jungla. Múltiples líneas con vistas impresionantes del bosque tropical.",
                        duration: "3-4 horas",
                        difficulty: "Moderada",
                        groupSize: "Hasta 10 personas",
                        pickup: "Sí",
                        included: ["Todo el equipo de seguridad", "Guías profesionales", "Entrenamiento", "Refrigerios"],
                        toBring: ["Ropa cómoda", "Zapatos cerrados", "¡Espíritu de aventura!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1533587851505-d119e13fa0d7?w=400"
                        ]
                    }
                }
            },
            { 
                id: 7, 
                name: {en: "Horseback Riding", es: "Paseo a Caballo"}, 
                price: 55, 
                img: "https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=500", 
                desc: {en: "Beach and trail adventure.", es: "Aventura en playa y senderos."},
                details: {
                    en: {
                        fullDescription: "Enjoy a peaceful horseback ride along beautiful beaches and through scenic trails. Suitable for all experience levels.",
                        duration: "2-3 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 8 people",
                        pickup: "Yes",
                        included: ["Horse and equipment", "Guide", "Safety briefing", "Photos"],
                        toBring: ["Long pants", "Comfortable shoes", "Sunscreen", "Camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Disfruta de un tranquilo paseo a caballo por hermosas playas y senderos escénicos. Adecuado para todos los niveles de experiencia.",
                        duration: "2-3 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 8 personas",
                        pickup: "Sí",
                        included: ["Caballo y equipo", "Guía", "Breve de seguridad", "Fotos"],
                        toBring: ["Pantalones largos", "Zapatos cómodos", "Protector solar", "Cámara"],
                        gallery: [
                            "https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=400"
                        ]
                    }
                }
            },
            { 
                id: 8, 
                name: {en: "La Hacienda Park", es: "Parque La Hacienda"}, 
                price: 99, 
                img: "https://images.unsplash.com/photo-1533644026857-463e264585c4?w=500", 
                desc: {en: "7 activities in one park.", es: "7 actividades en un solo parque."},
                details: {
                    en: {
                        fullDescription: "Experience 7 different activities in one amazing park: ziplining, horseback riding, swimming, and more! Perfect for families and groups.",
                        duration: "Full day",
                        difficulty: "Mixed",
                        groupSize: "Up to 40 people",
                        pickup: "Yes",
                        included: ["All activities", "Lunch buffet", "Guide", "Equipment"],
                        toBring: ["Swimwear", "Towel", "Change of clothes", "Camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1533644026857-463e264585c4?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Experimenta 7 actividades diferentes en un parque increíble: tirolesa, paseo a caballo, natación y más! Perfecto para familias y grupos.",
                        duration: "Día completo",
                        difficulty: "Mixta",
                        groupSize: "Hasta 40 personas",
                        pickup: "Sí",
                        included: ["Todas las actividades", "Almuerzo buffet", "Guía", "Equipo"],
                        toBring: ["Traje de baño", "Toalla", "Ropa de cambio", "Cámara"],
                        gallery: [
                            "https://images.unsplash.com/photo-1533644026857-463e264585c4?w=400"
                        ]
                    }
                }
            },
            { 
                id: 9, 
                name: {en: "Private Catamaran", es: "Catamarán Privado"}, 
                price: 500, 
                img: "https://images.unsplash.com/photo-1566418872583-04e38e19c3b0?w=500", 
                desc: {en: "Luxury sailing for your group.", es: "Navegación de lujo para su grupo."},
                details: {
                    en: {
                        fullDescription: "Exclusive private catamaran experience for your group. Custom itinerary, premium service, and luxury amenities on board.",
                        duration: "4-8 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 15 people",
                        pickup: "Yes, from marina",
                        included: ["Private catamaran", "Captain and crew", "Open bar", "Gourmet lunch", "Snorkeling equipment"],
                        toBring: ["Swimwear", "Sunscreen", "Camera", "Party mood!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1566418872583-04e38e19c3b0?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Experiencia exclusiva en catamarán privado para su grupo. Itinerario personalizado, servicio premium y comodidades de lujo a bordo.",
                        duration: "4-8 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 15 personas",
                        pickup: "Sí, desde el marina",
                        included: ["Catamarán privado", "Capitán y tripulación", "Barra libre", "Almuerzo gourmet", "Equipo de snorkel"],
                        toBring: ["Traje de baño", "Protector solar", "Cámara", "¡Ánimo de fiesta!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1566418872583-04e38e19c3b0?w=400"
                        ]
                    }
                }
            },
            { 
                id: 10, 
                name: {en: "Speed Boat", es: "Lancha Rápida"}, 
                price: 75, 
                img: "https://images.unsplash.com/photo-1574347201732-f1262d6657c6?w=500", 
                desc: {en: "Drive your own boat.", es: "Conduzca su propio bote."},
                details: {
                    en: {
                        fullDescription: "Take control of your own speed boat adventure! Explore hidden coves and beautiful coastlines at your own pace.",
                        duration: "2-3 hours",
                        difficulty: "Easy (with instruction)",
                        groupSize: "Up to 6 people",
                        pickup: "Yes, from marina",
                        included: ["Speed boat rental", "Safety briefing", "Fuel", "Life jackets", "Route map"],
                        toBring: ["Swimwear", "Sunscreen", "Waterproof bag", "Camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1574347201732-f1262d6657c6?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Toma el control de tu propia aventura en lancha rápida! Explora calas escondidas y hermosas costas a tu propio ritmo.",
                        duration: "2-3 horas",
                        difficulty: "Fácil (con instrucción)",
                        groupSize: "Hasta 6 personas",
                        pickup: "Sí, desde el marina",
                        included: ["Alquiler de lancha rápida", "Breve de seguridad", "Combustible", "Chalecos salvavidas", "Mapa de ruta"],
                        toBring: ["Traje de baño", "Protector solar", "Bolsa impermeable", "Cámara"],
                        gallery: [
                            "https://images.unsplash.com/photo-1574347201732-f1262d6657c6?w=400"
                        ]
                    }
                }
            },
            { 
                id: 11, 
                name: {en: "Dolphin Swim", es: "Nado con Delfines"}, 
                price: 115, 
                img: "https://images.unsplash.com/photo-1570415309668-3e9a4f610332?w=500", 
                desc: {en: "Interaction and swimming.", es: "Interacción y nado."},
                details: {
                    en: {
                        fullDescription: "Swim with dolphins in their natural habitat! An unforgettable experience interacting with these intelligent marine mammals.",
                        duration: "2 hours",
                        difficulty: "Easy",
                        groupSize: "Small groups",
                        pickup: "Yes",
                        included: ["Dolphin interaction", "Swimming session", "Professional trainers", "Photos", "Educational briefing"],
                        toBring: ["Swimwear", "Towel", "Camera (waterproof)", "Change of clothes"],
                        gallery: [
                            "https://images.unsplash.com/photo-1570415309668-3e9a4f610332?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Nada con delfines en su hábitat natural! Una experiencia inolvidable interactuando con estos inteligentes mamíferos marinos.",
                        duration: "2 horas",
                        difficulty: "Fácil",
                        groupSize: "Grupos pequeños",
                        pickup: "Sí",
                        included: ["Interacción con delfines", "Sesión de natación", "Entrenadores profesionales", "Fotos", "Breve educativo"],
                        toBring: ["Traje de baño", "Toalla", "Cámara (impermeable)", "Ropa de cambio"],
                        gallery: [
                            "https://images.unsplash.com/photo-1570415309668-3e9a4f610332?w=400"
                        ]
                    }
                }
            },
            { 
                id: 12, 
                name: {en: "Scuba Doo", es: "Scuba Doo"}, 
                price: 60, 
                img: "https://images.unsplash.com/photo-1682687220208-22d7a2543e88?w=500", 
                desc: {en: "Underwater scooter fun.", es: "Diversión en moto submarina."},
                details: {
                    en: {
                        fullDescription: "Ride an underwater scooter and explore the marine world without needing scuba certification! Easy and fun for everyone.",
                        duration: "1-2 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 8 people",
                        pickup: "Yes",
                        included: ["Underwater scooter", "Safety equipment", "Guide", "Briefing"],
                        toBring: ["Swimwear", "Towel", "GoPro or waterproof camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1682687220208-22d7a2543e88?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Maneja una moto submarina y explora el mundo marino sin necesidad de certificación de buceo! Fácil y divertido para todos.",
                        duration: "1-2 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 8 personas",
                        pickup: "Sí",
                        included: ["Moto submarina", "Equipo de seguridad", "Guía", "Breve"],
                        toBring: ["Traje de baño", "Toalla", "GoPro o cámara impermeable"],
                        gallery: [
                            "https://images.unsplash.com/photo-1682687220208-22d7a2543e88?w=400"
                        ]
                    }
                }
            },
            { 
                id: 13, 
                name: {en: "Party Boat", es: "Barco de Fiesta"}, 
                price: 55, 
                img: "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=500", 
                desc: {en: "Drinks, music, and snorkeling.", es: "Bebidas, música y snorkel."},
                details: {
                    en: {
                        fullDescription: "Join the ultimate party on the water! Dance to great music, enjoy unlimited drinks, and snorkel in beautiful spots.",
                        duration: "4 hours",
                        difficulty: "Easy",
                        groupSize: "Large groups",
                        pickup: "Yes, from beach",
                        included: ["Open bar", "DJ music", "Snorkeling equipment", "Light snacks", "Fun atmosphere!"],
                        toBring: ["Swimwear", "Sunscreen", "Towel", "Party attitude"],
                        gallery: [
                            "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Únete a la mejor fiesta en el agua! Baila con buena música, disfruta de bebidas ilimitadas y haz snorkel en lugares hermosos.",
                        duration: "4 horas",
                        difficulty: "Fácil",
                        groupSize: "Grupos grandes",
                        pickup: "Sí, desde la playa",
                        included: ["Barra libre", "Música de DJ", "Equipo de snorkel", "Aperitivos ligeros", "¡Ambiente divertido!"],
                        toBring: ["Traje de baño", "Protector solar", "Toalla", "Actitud de fiesta"],
                        gallery: [
                            "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400"
                        ]
                    }
                }
            },
            { 
                id: 14, 
                name: {en: "Buggy Adventure", es: "Aventura en Buggy"}, 
                price: 70, 
                img: "https://images.unsplash.com/photo-1582216666355-389f55e5a26c?w=500", 
                desc: {en: "Off-road mud and fun.", es: "Lodo y diversión todoterreno."},
                details: {
                    en: {
                        fullDescription: "Get dirty and have fun on an off-road buggy adventure through mud, trails, and scenic routes. An adrenaline-packed experience!",
                        duration: "3 hours",
                        difficulty: "Moderate",
                        groupSize: "Up to 12 people",
                        pickup: "Yes",
                        included: ["Buggy rental", "Safety gear", "Guide", "Mud course", "Photos"],
                        toBring: ["Clothes you don't mind getting dirty", "Closed-toe shoes", "Sunglasses", "Camera (protected)"],
                        gallery: [
                            "https://images.unsplash.com/photo-1582216666355-389f55e5a26c?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Ensúciate y diviértete en una aventura todoterreno en buggy a través de lodo, senderos y rutas escénicas. Una experiencia llena de adrenalina!",
                        duration: "3 horas",
                        difficulty: "Moderada",
                        groupSize: "Hasta 12 personas",
                        pickup: "Sí",
                        included: ["Alquiler de buggy", "Equipo de seguridad", "Guía", "Recorrido de lodo", "Fotos"],
                        toBring: ["Ropa que no te importe ensuciar", "Zapatos cerrados", "Gafas de sol", "Cámara (protegida)"],
                        gallery: [
                            "https://images.unsplash.com/photo-1582216666355-389f55e5a26c?w=400"
                        ]
                    }
                }
            },
            { 
                id: 15, 
                name: {en: "Deep Sea Fishing", es: "Pesca de Altura"}, 
                price: 130, 
                img: "https://images.unsplash.com/photo-1520114878144-6123749968dd?w=500", 
                desc: {en: "Catch the big one.", es: "Pesca la pieza más grande."},
                details: {
                    en: {
                        fullDescription: "Professional deep sea fishing expedition. Try to catch marlin, tuna, mahi-mahi and other big game fish in the Caribbean waters.",
                        duration: "6-8 hours",
                        difficulty: "Moderate",
                        groupSize: "Up to 6 people",
                        pickup: "Yes, from marina",
                        included: ["Fishing boat", "Professional captain", "All fishing equipment", "Bait", "Refreshments"],
                        toBring: ["Sunscreen", "Hat", "Camera", "Seasickness medication if needed"],
                        gallery: [
                            "https://images.unsplash.com/photo-1520114878144-6123749968dd?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Expedición profesional de pesca en alta mar. Intenta atrapar marlín, atún, dorado y otros peces de caza mayor en las aguas del Caribe.",
                        duration: "6-8 horas",
                        difficulty: "Moderada",
                        groupSize: "Hasta 6 personas",
                        pickup: "Sí, desde el marina",
                        included: ["Barco de pesca", "Capitán profesional", "Todo el equipo de pesca", "Cebo", "Refrigerios"],
                        toBring: ["Protector solar", "Sombrero", "Cámara", "Medicamento para mareos si es necesario"],
                        gallery: [
                            "https://images.unsplash.com/photo-1520114878144-6123749968dd?w=400"
                        ]
                    }
                }
            },
            { 
                id: 16, 
                name: {en: "Coco Bongo", es: "Coco Bongo"}, 
                price: 80, 
                img: "https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=500", 
                desc: {en: "The best show in the Caribbean.", es: "El mejor show del Caribe."},
                details: {
                    en: {
                        fullDescription: "Experience the most spectacular show in the Caribbean! Acrobats, singers, dancers, and non-stop entertainment with open bar included.",
                        duration: "4-5 hours",
                        difficulty: "Easy",
                        groupSize: "Large groups",
                        pickup: "Yes, from hotels",
                        included: ["Show ticket", "Open bar", "VIP seating", "Transportation"],
                        toBring: ["Party clothes", "ID", "Camera", "Dancing shoes"],
                        gallery: [
                            "https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Experimenta el espectáculo más espectacular del Caribe! Acróbatas, cantantes, bailarines y entretenimiento sin parar con barra libre incluida.",
                        duration: "4-5 horas",
                        difficulty: "Fácil",
                        groupSize: "Grupos grandes",
                        pickup: "Sí, desde hoteles",
                        included: ["Entrada al show", "Barra libre", "Asientos VIP", "Transporte"],
                        toBring: ["Ropa de fiesta", "Identificación", "Cámara", "Zapatos para bailar"],
                        gallery: [
                            "https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=400"
                        ]
                    }
                }
            },
            // New 7 excursions
            { 
                id: 17, 
                name: {en: "Zip-line Adventure", es: "Aventura en Tirolesa"}, 
                price: 45, 
                img: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500", 
                desc: {en: "Exciting zip-line through the jungle.", es: "Emocionante tirolesa por la jungla."},
                details: {
                    en: {
                        fullDescription: "Soar through the treetops on our thrilling zip-line course. Experience the adrenaline rush as you fly above the lush jungle canopy with breathtaking views.",
                        duration: "3-4 hours",
                        difficulty: "Moderate",
                        groupSize: "Up to 15 people",
                        pickup: "Yes",
                        included: ["All safety equipment", "Professional guides", "Training session", "Refreshments"],
                        toBring: ["Comfortable clothes", "Closed-toe shoes", "Camera", "Adventure spirit!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400",
                            "https://images.unsplash.com/photo-1533587851505-d119e13fa0d7?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Deslízate por las copas de los árboles en nuestro emocionante curso de tirolesa. Experimenta la adrenalina mientras vuelas sobre el frondoso dosel de la jungla con vistas impresionantes.",
                        duration: "3-4 horas",
                        difficulty: "Moderada",
                        groupSize: "Hasta 15 personas",
                        pickup: "Sí",
                        included: ["Todo el equipo de seguridad", "Guías profesionales", "Sesión de entrenamiento", "Refrigerios"],
                        toBring: ["Ropa cómoda", "Zapatos cerrados", "Cámara", "¡Espíritu de aventura!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400",
                            "https://images.unsplash.com/photo-1533587851505-d119e13fa0d7?w=400"
                        ]
                    }
                }
            },
            { 
                id: 18, 
                name: {en: "Party Boat Extreme", es: "Barco de Fiesta Extremo"}, 
                price: 60, 
                img: "https://images.unsplash.com/photo-1511994717241-8e4e484dfa8c?w=500", 
                desc: {en: "Party boat with music and open bar.", es: "Barco de fiesta con música y barra libre."},
                details: {
                    en: {
                        fullDescription: "Get ready for the ultimate party experience on the water! Dance to the hottest music, enjoy unlimited drinks from our open bar, and make unforgettable memories with friends.",
                        duration: "4-5 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 50 people",
                        pickup: "Yes, from designated points",
                        included: ["Open bar (alcoholic & non-alcoholic)", "Professional DJ", "Snorkeling stop", "Light snacks"],
                        toBring: ["Swimwear", "Sunscreen", "Dancing shoes", "Party attitude!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1511994717241-8e4e484dfa8c?w=400",
                            "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Prepárate para la experiencia de fiesta definitiva en el agua! Baila con la mejor música, disfruta de bebidas ilimitadas de nuestra barra libre y crea recuerdos inolvidables con amigos.",
                        duration: "4-5 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 50 personas",
                        pickup: "Sí, desde puntos designados",
                        included: ["Barra libre (alcohólica y no alcohólica)", "DJ profesional", "Parada para snorkel", "Aperitivos ligeros"],
                        toBring: ["Traje de baño", "Protector solar", "Zapatos para bailar", "¡Actitud de fiesta!"],
                        gallery: [
                            "https://images.unsplash.com/photo-1511994717241-8e4e484dfa8c?w=400",
                            "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400"
                        ]
                    }
                }
            },
            { 
                id: 19, 
                name: {en: "Parasailing Paradise", es: "Parapente en el Paraíso"}, 
                price: 75, 
                img: "https://images.unsplash.com/photo-1575058752200-a9d6fa0a09a1?w=500", 
                desc: {en: "Fly above the ocean with parasailing.", es: "Vuela sobre el océano con parapente."},
                details: {
                    en: {
                        fullDescription: "Experience the thrill of parasailing with breathtaking views of the Caribbean coastline. Fly high above the crystal-clear waters in complete safety.",
                        duration: "1-2 hours",
                        difficulty: "Easy",
                        groupSize: "Small groups",
                        pickup: "Yes, from beach",
                        included: ["Parasailing equipment", "Safety briefing", "Boat ride", "Photos/videos"],
                        toBring: ["Swimwear", "Sunscreen", "Camera", "Sense of adventure"],
                        gallery: [
                            "https://images.unsplash.com/photo-1575058752200-a9d6fa0a09a1?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Experimenta la emoción del parapente con vistas impresionantes de la costa caribeña. Vuela alto sobre las aguas cristalinas con total seguridad.",
                        duration: "1-2 horas",
                        difficulty: "Fácil",
                        groupSize: "Grupos pequeños",
                        pickup: "Sí, desde la playa",
                        included: ["Equipo de parapente", "Breve de seguridad", "Paseo en barco", "Fotos/videos"],
                        toBring: ["Traje de baño", "Protector solar", "Cámara", "Sentido de aventura"],
                        gallery: [
                            "https://images.unsplash.com/photo-1575058752200-a9d6fa0a09a1?w=400"
                        ]
                    }
                }
            },
            { 
                id: 20, 
                name: {en: "Boogies Beach Ride", es: "Paseo en Boogies en la Playa"}, 
                price: 50, 
                img: "https://images.unsplash.com/photo-1582216666355-389f55e5a26c?w=500", 
                desc: {en: "Fun boogie ride along the beach.", es: "Divertido paseo en boogies por la playa."},
                details: {
                    en: {
                        fullDescription: "Ride exciting boogie cars along beautiful sandy beaches. Perfect for families and friends looking for fun beach adventure.",
                        duration: "2 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 10 people",
                        pickup: "Yes",
                        included: ["Boogie car rental", "Safety equipment", "Guide", "Beach route"],
                        toBring: ["Beach clothes", "Sunglasses", "Camera", "Beach towel"],
                        gallery: [
                            "https://images.unsplash.com/photo-1582216666355-389f55e5a26c?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Maneja emocionantes carros boogie por hermosas playas de arena. Perfecto para familias y amigos que buscan diversión en la playa.",
                        duration: "2 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 10 personas",
                        pickup: "Sí",
                        included: ["Alquiler de carro boogie", "Equipo de seguridad", "Guía", "Ruta por la playa"],
                        toBring: ["Ropa de playa", "Gafas de sol", "Cámara", "Toalla de playa"],
                        gallery: [
                            "https://images.unsplash.com/photo-1582216666355-389f55e5a26c?w=400"
                        ]
                    }
                }
            },
            { 
                id: 21, 
                name: {en: "Safari Supreme", es: "Safari Supremo"}, 
                price: 120, 
                img: "https://images.unsplash.com/photo-1533577116858-5d894d8f9b9d?w=500", 
                desc: {en: "Luxury safari through natural parks.", es: "Safari de lujo por parques naturales."},
                details: {
                    en: {
                        fullDescription: "Luxury safari experience through the most beautiful natural parks. Comfortable transportation, expert guides, and unforgettable wildlife encounters.",
                        duration: "Full day",
                        difficulty: "Easy",
                        groupSize: "Up to 12 people",
                        pickup: "Yes, luxury vehicles",
                        included: ["Luxury safari vehicle", "Expert guide", "Gourmet lunch", "Park entrances", "Refreshments"],
                        toBring: ["Comfortable clothes", "Binoculars", "Camera", "Light jacket"],
                        gallery: [
                            "https://images.unsplash.com/photo-1533577116858-5d894d8f9b9d?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "Experiencia de safari de lujo por los parques naturales más hermosos. Transporte cómodo, guías expertos y encuentros con vida silvestre inolvidables.",
                        duration: "Día completo",
                        difficulty: "Fácil",
                        groupSize: "Hasta 12 personas",
                        pickup: "Sí, vehículos de lujo",
                        included: ["Vehículo de safari de lujo", "Guía experto", "Almuerzo gourmet", "Entradas a parques", "Refrigerios"],
                        toBring: ["Ropa cómoda", "Binoculares", "Cámara", "Chaqueta ligera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1533577116858-5d894d8f9b9d?w=400"
                        ]
                    }
                }
            },
            { 
                id: 22, 
                name: {en: "Glass Boat Tour", es: "Tour en Barco de Cristal"}, 
                price: 40, 
                img: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=500", 
                desc: {en: "See marine life through glass bottom.", es: "Vea la vida marina a través del fondo de cristal."},
                details: {
                    en: {
                        fullDescription: "Discover the underwater world without getting wet! Our glass-bottom boat allows you to see colorful coral reefs and tropical fish in crystal-clear waters.",
                        duration: "1.5-2 hours",
                        difficulty: "Easy",
                        groupSize: "Up to 20 people",
                        pickup: "Yes, from beach",
                        included: ["Glass-bottom boat tour", "Guide", "Marine life spotting", "Educational commentary"],
                        toBring: ["Camera", "Sunscreen", "Hat", "Binoculars"],
                        gallery: [
                            "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Descubre el mundo submarino sin mojarte! Nuestro barco con fondo de cristal te permite ver coloridos arrecifes de coral y peces tropicales en aguas cristalinas.",
                        duration: "1.5-2 horas",
                        difficulty: "Fácil",
                        groupSize: "Hasta 20 personas",
                        pickup: "Sí, desde la playa",
                        included: ["Tour en barco con fondo de cristal", "Guía", "Avistamiento de vida marina", "Comentario educativo"],
                        toBring: ["Cámara", "Protector solar", "Sombrero", "Binoculares"],
                        gallery: [
                            "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400"
                        ]
                    }
                }
            },
            { 
                id: 23, 
                name: {en: "Scape Park Adventure", es: "Aventura en Scape Park"}, 
                price: 95, 
                img: "https://images.unsplash.com/photo-1548586196-aa5803b5bfc8?w=500", 
                desc: {en: "Adventure park with multiple attractions.", es: "Parque de aventuras con múltiples atracciones."},
                details: {
                    en: {
                        fullDescription: "All-in-one adventure park with zip lines, cave exploration, cenote swimming, and more! Perfect for adrenaline junkies and nature lovers.",
                        duration: "Full day",
                        difficulty: "Mixed",
                        groupSize: "Up to 25 people",
                        pickup: "Yes",
                        included: ["All park attractions", "Lunch buffet", "Safety equipment", "Professional guides", "Lockers"],
                        toBring: ["Swimwear", "Towel", "Comfortable shoes", "Change of clothes", "Camera"],
                        gallery: [
                            "https://images.unsplash.com/photo-1548586196-aa5803b5bfc8?w=400"
                        ]
                    },
                    es: {
                        fullDescription: "¡Parque de aventuras todo en uno con tirolesas, exploración de cuevas, natación en cenotes y más! Perfecto para amantes de la adrenalina y la naturaleza.",
                        duration: "Día completo",
                        difficulty: "Mixta",
                        groupSize: "Hasta 25 personas",
                        pickup: "Sí",
                        included: ["Todas las atracciones del parque", "Almuerzo buffet", "Equipo de seguridad", "Guías profesionales", "Casilleros"],
                        toBring: ["Traje de baño", "Toalla", "Zapatos cómodos", "Ropa de cambio", "Cámara"],
                        gallery: [
                            "https://images.unsplash.com/photo-1548586196-aa5803b5bfc8?w=400"
                        ]
                    }
                }
            }
        ];

        // Global variables
        let lang = 'en';
        let currentTourId = null;
        let allReviews = {}; // Cache for reviews
        let isOnline = true;

        const i18n = {
            en: {
                title: "Experience Paradise", sub: "The most exclusive excursions in the Dominican Republic",
                search: "Search adventures...", book: "Book Now", date: "Travel Date",
                name: "Full Name", card: "Card Number", exp: "Expiry (MM/YY)", pay: "Book & Pay Now",
                sTitle: "Payment Confirmed!", sBody: "Your tickets have been sent to your email.",
                reviews: "Reviews", leaveReview: "Leave Review", noReviews: "No reviews yet",
                rating: "Rating", submitReview: "Submit Review", yourName: "Your Name",
                yourReview: "Your Review", booking: "Booking", details: "Details",
                loading: "Loading...", submit: "Submit", success: "Success!",
                email: "Email Address", guests: "Number of Guests",
                duration: "Duration", difficulty: "Difficulty", groupSize: "Group Size",
                pickup: "Pickup Included", included: "What's Included", bring: "What to Bring"
            },
            es: {
                title: "Vive el Paraíso", sub: "Las excursiones más exclusivas de República Dominicana",
                search: "Buscar aventuras...", book: "Reservar Ahora", date: "Fecha del Viaje",
                name: "Nombre Completo", card: "Número de Tarjeta", exp: "Vencimiento (MM/AA)", pay: "Reservar y Pagar",
                sTitle: "¡Pago Confirmado!", sBody: "Sus boletos han sido enviados a su correo.",
                reviews: "Reseñas", leaveReview: "Dejar Reseña", noReviews: "Aún no hay reseñas",
                rating: "Calificación", submitReview: "Enviar Reseña", yourName: "Tu Nombre",
                yourReview: "Tu Reseña", booking: "Reserva", details: "Detalles",
                loading: "Cargando...", submit: "Enviar", success: "¡Éxito!",
                email: "Correo Electrónico", guests: "Número de Invitados",
                duration: "Duración", difficulty: "Dificultad", groupSize: "Tamaño del Grupo",
                pickup: "Recogida Incluida", included: "Qué Incluye", bring: "Qué Llevar"
            }
        };

        // Set language
        function setLang(l) {
            lang = l;
            document.getElementById('en-btn').classList.toggle('active', l === 'en');
            document.getElementById('es-btn').classList.toggle('active', l === 'es');
            document.getElementById('hero-title').innerText = i18n[l].title;
            document.getElementById('hero-sub').innerText = i18n[l].sub;
            document.getElementById('searchInput').placeholder = i18n[l].search;
            document.getElementById('lbl-date').innerText = i18n[l].date;
            document.getElementById('lbl-name').innerText = i18n[l].name;
            document.getElementById('lbl-email').innerText = i18n[l].email;
            document.getElementById('lbl-guests').innerText = i18n[l].guests;
            document.getElementById('lbl-card').innerText = i18n[l].card;
            document.getElementById('lbl-exp').innerText = i18n[l].exp;
            document.getElementById('btn-pay-now').innerText = i18n[l].pay;
            document.getElementById('msg-success-title').innerText = i18n[l].sTitle;
            document.getElementById('msg-success-body').innerText = i18n[l].sBody;
            document.getElementById('tabDetails').innerText = i18n[l].details;
            document.getElementById('tabBooking').innerText = i18n[l].booking;
            document.getElementById('tabReviews').innerText = i18n[l].reviews;
            document.getElementById('lbl-your-name').innerText = i18n[l].yourName;
            document.getElementById('lbl-rating').innerText = i18n[l].rating;
            document.getElementById('lbl-your-review').innerText = i18n[l].yourReview;
            document.getElementById('btn-submit-review').innerText = i18n[l].submitReview;
            document.getElementById('lbl-duration').innerText = i18n[l].duration;
            document.getElementById('lbl-difficulty').innerText = i18n[l].difficulty;
            document.getElementById('lbl-group-size').innerText = i18n[l].groupSize;
            document.getElementById('lbl-pickup').innerText = i18n[l].pickup;
            document.getElementById('lbl-included').innerText = i18n[l].included;
            document.getElementById('lbl-to-bring').innerText = i18n[l].bring;
            
            renderTours();
        }

        // Render stars
        function renderStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            
            for (let i = 0; i < 5; i++) {
                if (i < fullStars) {
                    stars += '★';
                } else {
                    stars += '☆';
                }
            }
            return stars;
        }

        // IMMEDIATE LOADING - No database calls during initial render
        function renderTours(filter = '') {
            const grid = document.getElementById('toursGrid');
            
            // Filter tours
            let filteredTours = tours.filter(t => t.name[lang].toLowerCase().includes(filter.toLowerCase()));
            
            // Build HTML immediately - no async calls
            let toursHTML = '';
            
            filteredTours.forEach(tour => {
                // Get cached rating or show placeholder
                const tourReviews = allReviews[tour.id] || [];
                const reviewCount = tourReviews.length;
                const avgRating = reviewCount > 0 ? 
                    (tourReviews.reduce((sum, r) => sum + r.rating, 0) / reviewCount).toFixed(1) : 0;
                
                toursHTML += `
                    <div class="card" onclick="openTourDetails(${tour.id})">
                        <div class="card-img" style="background-image: url('${tour.img}')">
                            <div class="price-tag">$${tour.price} USD</div>
                        </div>
                        <div class="card-content">
                            <h3 class="card-title">${tour.name[lang]}</h3>
                            <p class="card-text">${tour.desc[lang]}</p>
                            
                            <div class="rating">
                                <div class="stars">${renderStars(avgRating)}</div>
                                <span class="rating-text">${avgRating > 0 ? avgRating : 'No'} ${reviewCount === 1 ? 'review' : 'reviews'}</span>
                            </div>
                            
                            <div class="card-buttons">
                                <button class="btn-review" onclick="event.stopPropagation(); openTourReviews(${tour.id})">
                                    <i class="fas fa-star"></i> ${i18n[lang].leaveReview}
                                </button>
                                <button class="btn-book" onclick="event.stopPropagation(); openTourBooking(${tour.id})">
                                    ${i18n[lang].book}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            grid.innerHTML = toursHTML;
        }

        // Load reviews from JSONbin.io database
        async function loadReviewsFromDatabase() {
            try {
                const response = await fetch(DATABASE_CONFIG.API_URL, {
                    method: 'GET',
                    headers: {
                        'X-Master-Key': DATABASE_CONFIG.API_KEY,
                        'X-Bin-Meta': 'false'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    allReviews = data.reviews || {};
                    updateDatabaseStatus(true);
                    
                    // Update tour ratings after loading
                    updateAllTourRatings();
                    
                    return allReviews;
                } else {
                    throw new Error('Failed to load reviews');
                }
            } catch (error) {
                console.error('Error loading reviews:', error);
                updateDatabaseStatus(false);
                
                // Try to load from localStorage as fallback
                const localReviews = localStorage.getItem('supremeVipReviews');
                if (localReviews) {
                    allReviews = JSON.parse(localReviews);
                }
                
                return allReviews;
            }
        }

        // Save review to JSONbin.io database
        async function saveReviewToDatabase(review) {
            try {
                // Add review to local cache first
                if (!allReviews[review.tourId]) {
                    allReviews[review.tourId] = [];
                }
                
                // Generate unique ID and timestamp
                review.id = Date.now();
                review.createdAt = new Date().toISOString();
                
                // Add to local cache (limit to 10 most recent)
                allReviews[review.tourId].unshift(review);
                if (allReviews[review.tourId].length > 10) {
                    allReviews[review.tourId] = allReviews[review.tourId].slice(0, 10);
                }
                
                // Save to localStorage as backup
                localStorage.setItem('supremeVipReviews', JSON.stringify(allReviews));
                
                // Try to save to online database
                if (isOnline) {
                    const dataToSave = { reviews: allReviews };
                    
                    const response = await fetch(DATABASE_CONFIG.API_URL, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Master-Key': DATABASE_CONFIG.API_KEY
                        },
                        body: JSON.stringify(dataToSave)
                    });
                    
                    if (response.ok) {
                        console.log('Review saved to database successfully');
                        return { success: true, review: review };
                    } else {
                        throw new Error('Failed to save to database');
                    }
                } else {
                    // Offline - saved to localStorage only
                    return { success: true, review: review, offline: true };
                }
            } catch (error) {
                console.error('Error saving review:', error);
                updateDatabaseStatus(false);
                
                // Still return success for local storage
                return { success: true, review: review, offline: true };
            }
        }

        // Update all tour ratings after loading reviews
        function updateAllTourRatings() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const titleElement = card.querySelector('.card-title');
                if (titleElement) {
                    const tourName = titleElement.textContent;
                    const tour = tours.find(t => t.name[lang] === tourName);
                    if (tour) {
                        const tourReviews = allReviews[tour.id] || [];
                        const reviewCount = tourReviews.length;
                        const avgRating = reviewCount > 0 ? 
                            (tourReviews.reduce((sum, r) => sum + r.rating, 0) / reviewCount).toFixed(1) : 0;
                        
                        const starsElement = card.querySelector('.stars');
                        const ratingTextElement = card.querySelector('.rating-text');
                        
                        if (starsElement) starsElement.textContent = renderStars(avgRating);
                        if (ratingTextElement) ratingTextElement.textContent = 
                            `${avgRating > 0 ? avgRating : 'No'} ${reviewCount === 1 ? 'review' : 'reviews'}`;
                    }
                }
            });
        }

        // Update database status indicator
        function updateDatabaseStatus(online) {
            isOnline = online;
            const statusElement = document.getElementById('dbStatus');
            if (online) {
                statusElement.className = 'db-status online';
                statusElement.innerHTML = '<i class="fas fa-database"></i> <span>Database Connected</span>';
            } else {
                statusElement.className = 'db-status offline';
                statusElement.innerHTML = '<i class="fas fa-database"></i> <span>Offline Mode (Local)</span>';
            }
        }

        // Open tour details
        function openTourDetails(tourId) {
            currentTourId = tourId;
            const tour = tours.find(t => t.id === tourId);
            if (!tour) return;
            
            // Set tour details
            document.getElementById('detail-tour-name').innerText = tour.name[lang];
            document.getElementById('detail-tour-price').innerText = `$${tour.price} USD`;
            document.getElementById('booking-tour-name').innerText = tour.name[lang];
            document.getElementById('booking-tour-price').innerText = `$${tour.price}.00 USD`;
            document.getElementById('review-tour-name').innerText = tour.name[lang];
            
            // Load tour details
            if (tour.details && tour.details[lang]) {
                const details = tour.details[lang];
                document.getElementById('detail-full-description').innerText = details.fullDescription;
                document.getElementById('detail-duration').innerText = details.duration;
                document.getElementById('detail-difficulty').innerText = details.difficulty;
                document.getElementById('detail-group-size').innerText = details.groupSize;
                document.getElementById('detail-pickup').innerText = details.pickup;
                
                // Build included list
                let includedHTML = '';
                details.included.forEach(item => {
                    includedHTML += `<li><i class="fas fa-check"></i> ${item}</li>`;
                });
                document.getElementById('detail-included').innerHTML = includedHTML;
                
                // Build to bring list
                let toBringHTML = '';
                details.toBring.forEach(item => {
                    toBringHTML += `<li><i class="fas fa-suitcase"></i> ${item}</li>`;
                });
                document.getElementById('detail-to-bring').innerHTML = toBringHTML;
                
                // Build gallery
                let galleryHTML = '';
                details.gallery.forEach(img => {
                    galleryHTML += `<img src="${img}" alt="Tour image">`;
                });
                document.getElementById('detail-gallery').innerHTML = galleryHTML;
            } else {
                // Default details
                document.getElementById('detail-full-description').innerText = tour.desc[lang];
                document.getElementById('detail-duration').innerText = "Full day";
                document.getElementById('detail-difficulty').innerText = "Easy";
                document.getElementById('detail-group-size').innerText = "Up to 20 people";
                document.getElementById('detail-pickup').innerText = "Yes";
                document.getElementById('detail-included').innerHTML = `
                    <li><i class="fas fa-check"></i> Professional guide</li>
                    <li><i class="fas fa-check"></i> Transportation</li>
                    <li><i class="fas fa-check"></i> Basic equipment</li>
                `;
                document.getElementById('detail-to-bring').innerHTML = `
                    <li><i class="fas fa-suitcase"></i> Sunscreen</li>
                    <li><i class="fas fa-suitcase"></i> Swimwear</li>
                    <li><i class="fas fa-suitcase"></i> Camera</li>
                `;
                document.getElementById('detail-gallery').innerHTML = `
                    <img src="${tour.img}" alt="Tour image">
                    <img src="https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=400" alt="Tour image">
                    <img src="https://images.unsplash.com/photo-1544550581-5f7ceaf7f992?w=400" alt="Tour image">
                `;
            }
            
            // Load rating from cache
            const tourReviews = allReviews[tourId] || [];
            const reviewCount = tourReviews.length;
            const avgRating = reviewCount > 0 ? 
                (tourReviews.reduce((sum, r) => sum + r.rating, 0) / reviewCount).toFixed(1) : 0;
            
            document.getElementById('detail-rating-stars').innerHTML = renderStars(avgRating);
            document.getElementById('detail-rating-text').innerText = `(${reviewCount} ${reviewCount === 1 ? 'review' : 'reviews'})`;
            
            // Open modal with details tab
            document.getElementById('tourModal').style.display = 'flex';
            switchTab('details');
        }

        // Open tour reviews
        async function openTourReviews(tourId) {
            await openTourDetails(tourId);
            switchTab('reviews');
            await updateReviewDisplay();
        }

        // Open tour booking
        function openTourBooking(tourId) {
            openTourDetails(tourId);
            switchTab('booking');
        }

        // Switch tabs
        function switchTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            if (tabName === 'details') {
                document.getElementById('tabDetails').classList.add('active');
                document.getElementById('detailsTab').classList.add('active');
            } else if (tabName === 'booking') {
                document.getElementById('tabBooking').classList.add('active');
                document.getElementById('bookingTab').classList.add('active');
            } else {
                document.getElementById('tabReviews').classList.add('active');
                document.getElementById('reviewsTab').classList.add('active');
                updateReviewDisplay();
            }
        }

        // Update review display
        function updateReviewDisplay() {
            if (!currentTourId) return;
            
            const tourReviews = allReviews[currentTourId] || [];
            const reviewCount = tourReviews.length;
            const avgRating = reviewCount > 0 ? 
                (tourReviews.reduce((sum, r) => sum + r.rating, 0) / reviewCount).toFixed(1) : 0;
            
            document.getElementById('modal-rating-stars').innerHTML = renderStars(avgRating);
            document.getElementById('modal-rating-text').innerText = `(${reviewCount} ${reviewCount === 1 ? 'review' : 'reviews'})`;
            
            const reviewsList = document.getElementById('reviewsList');
            reviewsList.innerHTML = '';
            
            if (tourReviews.length === 0) {
                reviewsList.innerHTML = `<div class="no-reviews">${i18n[lang].noReviews}</div>`;
            } else {
                // Show only 10 most recent reviews
                const recentReviews = tourReviews.slice(0, 10);
                recentReviews.forEach(review => {
                    const reviewDate = new Date(review.createdAt).toLocaleDateString(lang === 'es' ? 'es-ES' : 'en-US', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric'
                    });
                    reviewsList.innerHTML += `
                        <div class="review-item">
                            <div class="review-header">
                                <span class="review-name">${review.name}</span>
                                <span class="review-date">${reviewDate}</span>
                            </div>
                            <div class="stars">${renderStars(review.rating)}</div>
                            <p class="review-text">${review.text}</p>
                        </div>
                    `;
                });
            }
        }

        // Submit review
        async function submitReview(event) {
            event.preventDefault();
            
            const name = document.getElementById('reviewerName').value;
            const rating = document.querySelector('input[name="rating"]:checked');
            const text = document.getElementById('reviewText').value;
            
            if (!rating) {
                alert('Please select a rating');
                return;
            }
            
            const submitBtn = document.getElementById('btn-submit-review');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ' + i18n[lang].loading;
            submitBtn.disabled = true;
            
            try {
                const reviewData = {
                    tourId: currentTourId,
                    name: name,
                    rating: parseInt(rating.value),
                    text: text
                };
                
                // Save to database
                const result = await saveReviewToDatabase(reviewData);
                
                if (result.success) {
                    // Show success message
                    submitBtn.innerHTML = '<i class="fas fa-check"></i> ' + i18n[lang].success;
                    
                    // Clear form
                    document.getElementById('reviewerName').value = '';
                    document.querySelectorAll('input[name="rating"]').forEach(radio => radio.checked = false);
                    document.getElementById('reviewText').value = '';
                    
                    // Refresh displays
                    updateReviewDisplay();
                    updateAllTourRatings();
                    
                    // Update details tab rating
                    const tourReviews = allReviews[currentTourId] || [];
                    const reviewCount = tourReviews.length;
                    const avgRating = reviewCount > 0 ? 
                        (tourReviews.reduce((sum, r) => sum + r.rating, 0) / reviewCount).toFixed(1) : 0;
                    document.getElementById('detail-rating-stars').innerHTML = renderStars(avgRating);
                    document.getElementById('detail-rating-text').innerText = `(${reviewCount} ${reviewCount === 1 ? 'review' : 'reviews'})`;
                    
                    // Reset button after delay
                    setTimeout(() => {
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    }, 2000);
                }
            } catch (error) {
                console.error("Error submitting review:", error);
                submitBtn.innerHTML = 'Error - Try Again';
                setTimeout(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }, 3000);
            }
        }

        // Close modal
        function closeModal() {
            document.getElementById('tourModal').style.display = 'none';
            currentTourId = null;
        }

        // Process payment
        function processPayment(e) {
            e.preventDefault();
            const btn = document.getElementById('btn-pay-now');
            const originalText = btn.innerText;
            btn.innerText = i18n[lang].loading + "...";
            
            setTimeout(() => {
                document.getElementById('bookingTab').style.display = 'none';
                document.getElementById('successMsg').style.display = 'block';
                setTimeout(() => {
                    closeModal();
                    setTimeout(() => {
                        document.getElementById('bookingTab').style.display = 'block';
                        document.getElementById('successMsg').style.display = 'none';
                        btn.innerText = originalText;
                    }, 100);
                }, 2000);
            }, 1500);
        }

        // Filter tours
        function filterTours() {
            renderTours(document.getElementById('searchInput').value);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize date input with tomorrow's date
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('travelDate').min = tomorrow.toISOString().split('T')[0];
            document.getElementById('travelDate').value = tomorrow.toISOString().split('T')[0];
            
            // Initial render - IMMEDIATE, no waiting
            setLang('en');
            
            // Load reviews from database in background (non-blocking)
            setTimeout(async () => {
                await loadReviewsFromDatabase();
                updateAllTourRatings();
            }, 100); // Small delay to ensure page loads first
            
            // Check database connection periodically
            setInterval(async () => {
                try {
                    const response = await fetch(DATABASE_CONFIG.API_URL, {
                        method: 'GET',
                        headers: {
                            'X-Master-Key': DATABASE_CONFIG.API_KEY,
                            'X-Bin-Meta': 'false'
                        }
                    });
                    updateDatabaseStatus(response.ok);
                } catch (error) {
                    updateDatabaseStatus(false);
                }
            }, 30000); // Check every 30 seconds
        });

        // Close modal when clicking outside
        window.onclick = (e) => { 
            if(e.target == document.getElementById('tourModal')) closeModal(); 
        }
    </script>
</body>
</html>
